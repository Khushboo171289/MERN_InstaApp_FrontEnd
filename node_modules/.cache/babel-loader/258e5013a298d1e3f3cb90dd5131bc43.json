{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MERN-PROJECT-INSTA\\\\MERN_InstaApp\\\\client\\\\src\\\\components\\\\displayPost\\\\Post.js\";\nimport React, { Component } from \"react\";\nimport \"./post.css\";\nimport { Link } from \"react-router-dom\";\nimport AddComment from \"./AddComment\";\nimport Comments from \"./Comments\";\nimport { connect } from \"react-redux\";\nimport { getPost, deletePost } from \"../../actions/postActions\";\nimport Moment from \"react-moment\";\nimport Spinner from \"../common/Spinner\";\nimport { addLike, removeLike, savePost, unsavePost } from \"../../actions/postActions\";\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.goBack = this.goBack.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getPost(this.props.match.params.id, this.props.history);\n  }\n\n  goBack() {\n    this.props.history.goBack();\n  }\n\n  onDeletePost(postId, history) {\n    this.props.deletePost(postId, history);\n  }\n\n  render() {\n    const {\n      post,\n      loadingPost\n    } = this.props.post;\n    console.log(post.user);\n    const postId = this.props.match.params.id;\n    let content;\n\n    if (loadingPost || post === null) {\n      content = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this);\n    }\n\n    if (post && post.user) {\n      let deleteIcon;\n      let alreadyLiked = false;\n\n      if (post.likes !== undefined) {\n        if (post.likes.filter(like => like.user === this.props.auth.user.id).length > 0) {\n          alreadyLiked = true;\n        }\n      }\n\n      let alreadySaved = false;\n\n      if (post.saved !== undefined) {\n        if (post.saved.filter(save => save.user === this.props.auth.user.id).length > 0) {\n          alreadySaved = true;\n        }\n      }\n\n      if (post.user._id === this.props.auth.user.id) {\n        deleteIcon = /*#__PURE__*/_jsxDEV(\"div\", {\n          type: \"button\",\n          className: \"delete-post\",\n          onClick: this.onDeletePost.bind(this, post._id, this.props.history),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            style: {\n              fontSize: \"1.5em\",\n              float: \"right\",\n              padding: \"5px\",\n              marginTop: \"-3px\",\n              fontWeight: \"lighter\"\n            },\n            className: \"fa fa-trash\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 10\n        }, this);\n      }\n\n      const icons = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [alreadyLiked === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n          type: \"button\",\n          className: \"icons-post\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => {\n              this.props.removeLike(post._id);\n            },\n            className: \"fa fa-heart\",\n            style: {\n              fontSize: \"1.5em\",\n              color: \"red\"\n            },\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          type: \"button\",\n          onClick: () => this.props.addLike(post._id),\n          className: \"icons-post\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-heart-o\",\n            style: {\n              fontSize: \"1.5em\",\n              color: \"black\"\n            },\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), alreadySaved === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n          type: \"button\",\n          className: \"icons-post\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => {\n              this.props.unsavePost(post._id);\n            },\n            style: {\n              fontSize: \"1.5em\"\n            },\n            className: \"fa fa-bookmark\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          type: \"button\",\n          className: \"icons-post\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => {\n              this.props.savePost(post._id);\n            },\n            style: {\n              fontSize: \"1.5em\"\n            },\n            className: \"fa fa-bookmark-o\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), deleteIcon]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this);\n\n      content = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"child\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.goBack,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-times\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-post\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"size-of-image\",\n            src: post.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"style d-none d-xl-block d-md-none d-lg-none d-sm-none \",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/profile/${post.handle}`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"avatar-icon\",\n                src: post.user.avatar,\n                alt: \"Avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/profile/${post.handle}`,\n              className: \"name-of-account\",\n              children: post.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                marginBottom: \"10px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"section\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-2\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/profile/${post.handle}`,\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"avatar-icon\",\n                      src: post.user.avatar,\n                      alt: \"Avatar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-10\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"col-space\",\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      className: \"handlename-post\",\n                      to: `/profile/${post.handle}`,\n                      children: post.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"textStyle-comment\",\n                      children: [\"\\xA0 \", post.text]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"section\", {\n                children: /*#__PURE__*/_jsxDEV(Comments, {\n                  comments: post.comments,\n                  postId: postId // showAvatar={true}\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                children: icons\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-textStyle-date\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: \"600\",\n                    fontSize: \"1.4em\",\n                    color: \"black\"\n                  },\n                  children: [post.likes && post.likes.length, \" Likes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Moment, {\n                  format: \"D MMM YYYY\",\n                  children: post.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AddComment, {\n                postId: postId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"section-only-mobile d-xl-none\",\n            children: [/*#__PURE__*/_jsxDEV(\"section\", {\n              children: icons\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"post-textStyle-date\",\n              children: [/*#__PURE__*/_jsxDEV(Moment, {\n                format: \"D MMM YYYY\",\n                children: post.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 15\n              }, this), \" \\xA0 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [post.likes && post.likes.length, \" Likes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 71\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AddComment, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"parent\",\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Profile.propTypes = {\n//   auth: PropTypes.object.isRequired,\n//   logoutUser: PropTypes.func.isRequired,\n// };\n\n\nconst mapStateToProps = state => ({\n  post: state.post,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  getPost,\n  deletePost,\n  addLike,\n  removeLike,\n  savePost,\n  unsavePost\n})(Post);","map":{"version":3,"sources":["D:/MERN-PROJECT-INSTA/MERN_InstaApp/client/src/components/displayPost/Post.js"],"names":["React","Component","Link","AddComment","Comments","connect","getPost","deletePost","Moment","Spinner","addLike","removeLike","savePost","unsavePost","Post","constructor","props","goBack","bind","componentDidMount","match","params","id","history","onDeletePost","postId","render","post","loadingPost","console","log","user","content","deleteIcon","alreadyLiked","likes","undefined","filter","like","auth","length","alreadySaved","saved","save","_id","fontSize","float","padding","marginTop","fontWeight","icons","color","image","handle","avatar","name","marginBottom","text","comments","date","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./post.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddComment from \"./AddComment\";\r\nimport Comments from \"./Comments\";\r\nimport { connect } from \"react-redux\";\r\nimport { getPost, deletePost } from \"../../actions/postActions\";\r\nimport Moment from \"react-moment\"; \r\nimport Spinner from \"../common/Spinner\";\r\nimport {addLike, removeLike, savePost, unsavePost} from \"../../actions/postActions\" \r\n\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.goBack = this.goBack.bind(this);\r\n  \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getPost(this.props.match.params.id, this.props.history);\r\n  }\r\n\r\n  goBack() {\r\n    this.props.history.goBack();\r\n  }\r\n  onDeletePost(postId, history) {\r\n    this.props.deletePost(postId, history);\r\n  }\r\n\r\n  render() {\r\n    const {post, loadingPost} = this.props.post;\r\n    console.log(post.user);\r\n    const postId = this.props.match.params.id;\r\n    \r\n    let content;\r\n    if (loadingPost || post === null) {\r\n      content = <Spinner />\r\n    } \r\n    if (post && post.user) {\r\n      let deleteIcon;\r\n    let alreadyLiked = false;\r\n    if(post.likes !== undefined) {\r\n    if(post.likes.filter(like => like.user === this.props.auth.user.id).length > 0)\r\n    {\r\n      alreadyLiked = true;\r\n    }\r\n   }\r\n  let alreadySaved = false;\r\n  if (post.saved !== undefined) {\r\n    if (\r\n      post.saved.filter((save) => save.user === this.props.auth.user.id)\r\n        .length > 0\r\n    ) {\r\n      alreadySaved = true;\r\n    }\r\n  }\r\n \r\n     if (post.user._id === this.props.auth.user.id) {\r\n       deleteIcon = (\r\n         <div\r\n           type='button'\r\n           className='delete-post'\r\n           onClick={this.onDeletePost.bind(this, post._id, this.props.history)}\r\n         >\r\n           <i\r\n             style={{\r\n               fontSize: \"1.5em\",\r\n               float: \"right\",\r\n               padding: \"5px\",\r\n               marginTop: \"-3px\",\r\n               fontWeight: \"lighter\",\r\n             }}\r\n             className='fa fa-trash'\r\n             aria-hidden='true'\r\n           ></i>\r\n         </div>\r\n       );\r\n     }\r\n    const icons = (\r\n      <div>\r\n        {alreadyLiked === true ? (\r\n          <div type='button' className='icons-post'>\r\n            <i\r\n              onClick={() => {\r\n                this.props.removeLike(post._id);\r\n              }}\r\n              className='fa fa-heart'\r\n              style={{ fontSize: \"1.5em\", color: \"red\" }}\r\n              aria-hidden='true'\r\n            ></i>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            type='button'\r\n            onClick={() => this.props.addLike(post._id)}\r\n            className='icons-post'\r\n          >\r\n            <i\r\n              className='fa fa-heart-o'\r\n              style={{ fontSize: \"1.5em\", color: \"black\" }}\r\n              aria-hidden='true'\r\n            ></i>\r\n          </div>\r\n        )}\r\n        {/* <div type='button' className='icons-post'>\r\n          <i\r\n            style={{ fontSize: \"1.5em\" }}\r\n            className='fa fa-comment-o'\r\n            aria-hidden='true'\r\n          ></i>\r\n        </div>\r\n\r\n        <div type='button' className='icons-post'>\r\n          <i\r\n            style={{ fontSize: \"1.5em\" }}\r\n            className='far fa-user-circle'\r\n            aria-hidden='true'\r\n          ></i>\r\n        </div> */}\r\n        {alreadySaved === true ? (\r\n          <div type='button' className='icons-post'>\r\n            <i\r\n              onClick={() => {\r\n                this.props.unsavePost(post._id);\r\n              }}\r\n              style={{ fontSize: \"1.5em\" }}\r\n              className='fa fa-bookmark'\r\n              aria-hidden='true'\r\n            ></i>\r\n          </div>\r\n        ) : (\r\n          <div type='button' className='icons-post'>\r\n            <i\r\n              onClick={() => {\r\n                this.props.savePost(post._id);\r\n              }}\r\n              style={{ fontSize: \"1.5em\" }}\r\n              className='fa fa-bookmark-o'\r\n              aria-hidden='true'\r\n            ></i>\r\n          </div>\r\n        )}\r\n\r\n        {/* delete post */}\r\n        {deleteIcon}\r\n      </div>\r\n    );\r\n      content = (\r\n        <div className='child'>\r\n          <span className='close'>\r\n            <button onClick={this.goBack}>\r\n              <i className='fa fa-times' aria-hidden='true'></i>\r\n            </button>\r\n          </span>\r\n\r\n          <div className='container-post'>\r\n            <img\r\n              className='size-of-image'\r\n              src={post.image}\r\n            />\r\n            <div className='style d-none d-xl-block d-md-none d-lg-none d-sm-none '>\r\n              <Link to={`/profile/${post.handle}`}>\r\n                <img className='avatar-icon' src={post.user.avatar} alt='Avatar' />\r\n              </Link>\r\n              <Link to={`/profile/${post.handle}`} className='name-of-account'>\r\n                {post.name}\r\n              </Link>\r\n              <hr style={{ marginBottom: \"10px\" }} />\r\n\r\n              {/*  post description & comments on post */}\r\n              <div>\r\n                <section className='row'>\r\n                  {/* <!-- post description start--> */}\r\n\r\n                  <div className='col-lg-2'>\r\n                    <Link to={`/profile/${post.handle}`}>\r\n                      <img className='avatar-icon' src={post.user.avatar} alt='Avatar' />\r\n                    </Link>\r\n                  </div>\r\n                  <div className='col-lg-10'>\r\n                    <div id='col-space'>\r\n                      <Link className='handlename-post' to={`/profile/${post.handle}`}>\r\n                        {post.name}\r\n                      </Link>\r\n                      <span className='textStyle-comment'>\r\n                        &nbsp; {post.text}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </section>\r\n              </div>\r\n               {/* <!-- post description end--> */}\r\n\r\n               {/* comments on post */}\r\n              <div className='comment-wrapper'>\r\n                <section>\r\n                  <Comments comments={post.comments} postId={postId} \r\n                  // showAvatar={true}\r\n                  />\r\n                </section>\r\n              </div>\r\n                 \r\n\r\n                 \r\n              \r\n              <div id='footer'>\r\n                <hr />\r\n                <section>\r\n                  {/* Show like, save, delete icons */}\r\n                  {icons}\r\n                </section>\r\n                <div className='post-textStyle-date'>\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"600\",\r\n                      fontSize: \"1.4em\",\r\n                      color: \"black\",\r\n                    }}\r\n                  >\r\n                    {post.likes && post.likes.length} Likes\r\n                  </div>\r\n                  <Moment format=\"D MMM YYYY\">{post.date}</Moment>\r\n                </div>\r\n                <hr />\r\n                <AddComment postId={postId}/>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* section only for mobiles*/}\r\n\r\n          <div id='wrapper'>\r\n            <section className='section-only-mobile d-xl-none'>\r\n              <section>\r\n                {/* Show like, save, delete icons */}\r\n                {icons}\r\n              </section>\r\n\r\n              <p className='post-textStyle-date'>\r\n              <Moment format=\"D MMM YYYY\">{post.date}</Moment> &nbsp; <span>{post.likes && post.likes.length} Likes</span>\r\n              </p>\r\n              <AddComment />\r\n              \r\n            </section>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  \r\n    return (\r\n      <div className='parent'>\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Profile.propTypes = {\r\n  \r\n//   auth: PropTypes.object.isRequired,\r\n  \r\n//   logoutUser: PropTypes.func.isRequired,\r\n// };\r\nconst mapStateToProps = state => ({\r\n  post: state.post,\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { getPost, deletePost, addLike, removeLike, savePost, unsavePost })(Post);\r\n"]},"metadata":{},"sourceType":"module"}