{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MERN-PROJECT-INSTA\\\\MERN_InstaApp\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport Login from \"./components/auth/Login\";\nimport Signup from \"./components/auth/Signup\";\nimport Profile from \"./components/profile/Profile\";\nimport EditProfile from \"./components/profile/EditProfile\";\nimport Footer from \"./components/footer/Footer\";\nimport Navbar from \"./components/navbar/Navbar\";\nimport Post from \"./components/displayPost/Post\";\nimport CreateProfile from \"./components/profile/CreateProfile\";\nimport CreatePost from \"./components/displayPost/CreatePost\";\nimport Profiles from \"./components/profile/Profiles\";\nimport Posts from \"./components/home/Posts\";\nimport CurrentProfile from \"./components/profile/CurrentProfile\";\nimport HandleProfile from \"./components/profile/HandleProfile\";\nimport PrivateRoute from \"./components/common/PrivateRoute\"; //redux\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport { SET_CURRENT_USER } from \"./actions/types\";\nimport { logoutUser } from \"./actions/authActions\";\nimport { getCurrentProfile } from \"./actions/profileActions\";\nimport NotFound from \"./components/common/NotFound\";\nimport Gallery from './components/gallery/Gallery';\nimport UploadAvatar from './components/profile/UploadAvatar'; //Check for token\n\nif (localStorage.jwtToken) {\n  //Set auth header with the token\n  setAuthToken(localStorage.jwtToken); //Decode token\n\n  const decoded = jwt_decode(localStorage.jwtToken); //Write user data to redux store\n\n  store.dispatch({\n    type: SET_CURRENT_USER,\n    payload: decoded\n  }); //Check for expired token\n\n  const currentTime = Date.now() / 1000;\n\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n    window.location.href = \"/\";\n  } else {\n    store.dispatch(getCurrentProfile());\n  }\n}\n\nclass App extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(Provider, {\n      store: store,\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App\",\n          children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/signup\",\n            component: Signup\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            component: Login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/current-profile\",\n              component: CurrentProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/profile\",\n              component: CurrentProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/edit-profile\",\n              component: EditProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/post/:id\",\n              component: Post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/profile/:handle\",\n              component: HandleProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/create-profile\",\n              component: CreateProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/create-post\",\n              component: CreatePost\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/explore\",\n              component: Profiles\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/home\",\n              component: Posts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/not-found\",\n              component: NotFound\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/gallery\",\n              component: Gallery\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/upload\",\n              component: UploadAvatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/MERN-PROJECT-INSTA/MERN_InstaApp/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Login","Signup","Profile","EditProfile","Footer","Navbar","Post","CreateProfile","CreatePost","Profiles","Posts","CurrentProfile","HandleProfile","PrivateRoute","Provider","store","setAuthToken","jwt_decode","SET_CURRENT_USER","logoutUser","getCurrentProfile","NotFound","Gallery","UploadAvatar","localStorage","jwtToken","decoded","dispatch","type","payload","currentTime","Date","now","exp","window","location","href","App","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport Login from \"./components/auth/Login\";\nimport Signup from \"./components/auth/Signup\";\nimport Profile from \"./components/profile/Profile\";\nimport EditProfile from \"./components/profile/EditProfile\";\nimport Footer from \"./components/footer/Footer\";\nimport Navbar from \"./components/navbar/Navbar\";\nimport Post from \"./components/displayPost/Post\";\nimport CreateProfile from \"./components/profile/CreateProfile\";\nimport CreatePost from \"./components/displayPost/CreatePost\";\nimport Profiles from \"./components/profile/Profiles\";\nimport Posts from \"./components/home/Posts\";\nimport CurrentProfile from \"./components/profile/CurrentProfile\";\nimport HandleProfile from \"./components/profile/HandleProfile\";\nimport PrivateRoute from \"./components/common/PrivateRoute\";\n//redux\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport { SET_CURRENT_USER } from \"./actions/types\";\nimport { logoutUser } from \"./actions/authActions\";\nimport { getCurrentProfile } from \"./actions/profileActions\";\nimport NotFound from \"./components/common/NotFound\";\nimport Gallery from './components/gallery/Gallery';\nimport UploadAvatar from './components/profile/UploadAvatar'\n\n//Check for token\nif (localStorage.jwtToken) {\n  //Set auth header with the token\n  setAuthToken(localStorage.jwtToken);\n  //Decode token\n  const decoded = jwt_decode(localStorage.jwtToken);\n  //Write user data to redux store\n  store.dispatch({\n    type: SET_CURRENT_USER,\n    payload: decoded,\n  });\n\n  //Check for expired token\n  const currentTime = Date.now() / 1000;\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n\n    window.location.href = \"/\";\n  } else {\n    store.dispatch(getCurrentProfile());\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className='App'>\n            <Navbar />\n            <Route exact path='/signup' component={Signup} />\n            <Route exact path='/' component={Login} />\n            <Switch>\n              <PrivateRoute\n                exact\n                path='/current-profile'\n                component={CurrentProfile}\n              />{\" \"}\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path='/profile' component={CurrentProfile} />\n              <PrivateRoute\n                exact\n                path='/edit-profile'\n                component={EditProfile}\n              />{\" \"}\n            </Switch>\n            <Switch>\n              {\" \"}\n              <PrivateRoute exact path='/post/:id' component={Post} />\n              <PrivateRoute\n                exact\n                path='/profile/:handle'\n                component={HandleProfile}\n              />{\" \"}\n            </Switch>\n            <Switch>\n              {\" \"}\n              <PrivateRoute\n                exact\n                path='/create-profile'\n                component={CreateProfile}\n              />{\" \"}\n            </Switch>\n            <Switch>\n              {\" \"}\n              <PrivateRoute\n                exact\n                path='/create-post'\n                component={CreatePost}\n              />{\" \"}\n            </Switch>\n            <Switch>\n              {\" \"}\n              <PrivateRoute exact path='/explore' component={Profiles} />{\" \"}\n            </Switch>\n            <Switch>\n              {\" \"}\n              <PrivateRoute exact path='/home' component={Posts} />{\" \"}\n              {/* <PrivateRoute\n                exact\n                path='/home/:handle'\n                component={HandleProfile}\n              />{\" \"} */}\n            </Switch>\n            <Switch>\n              {\" \"}\n              <PrivateRoute exact path='/not-found' component={NotFound} />{\" \"}\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path='/gallery' component={Gallery} />{\" \"}\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path='/upload' component={UploadAvatar} />{\" \"}\n            </Switch>\n\n            <Footer />\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}