{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\MERN-PROJECT-INSTA\\\\MERN_InstaApp\\\\client\\\\src\\\\components\\\\profile\\\\HandleProfile.js\";\nimport React, { Component, Fragment } from \"react\";\nimport Profile from \"./Profile\";\nimport { getOtherUsersPosts } from \"../../actions/postActions\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport Spinner from \"../common/Spinner\";\nimport { getProfileByHandle, getFollowingList } from '../../actions/profileActions';\nimport { withRouter } from \"react-router-dom\";\n\nclass HandleProfile extends Component {\n  componentDidMount() {\n    // if (this.props.match.params.user_id) {\n    //   this.props.getOtherUsersPosts(this.props.match.params.user_id);\n    // }\n    if (this.props.match.params.handle) {\n      this.props.getProfileByHandle(this.props.match.params.handle, this.props.history);\n      this.props.getOtherUsersPosts(this.props.match.params.handle);\n    }\n\n    this.props.getFollowingList();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.match && nextProps.match.params && this.props.match && this.props.match.params) {\n      if (nextProps.match.params.handle !== this.props.match.params.handle) {\n        // console.log(nextProps.match.params.handle);\n        // console.log(this.props.match.params.handle)\n        window.location.reload(true);\n      }\n    }\n  }\n\n  render() {\n    // console.log(this.props.profile.profile);\n    const {\n      profile,\n      loading,\n      followingList\n    } = this.props.profile;\n    let content;\n    const {\n      userPosts,\n      loadingPost\n    } = this.props.post; // console.log(userPosts);\n    // console.log(profile);\n\n    if (loading || loadingPost || profile === null || userPosts === null || followingList === null) {\n      content = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 19\n      }, this);\n    } else {\n      content = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Profile, {\n          profile: profile,\n          loading: loading,\n          userPosts: userPosts,\n          loadingPost: loadingPost,\n          isCurrentProfile: true,\n          followingList: followingList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", content]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nProfile.propTypes = {\n  profile: PropTypes.object.isRequired,\n  getProfileByHandle: PropTypes.func.isRequired,\n  post: PropTypes.object.isRequired,\n  getOtherUsersPosts: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  // auth: state.auth,\n  profile: state.profile,\n  post: state.post\n});\n\nexport default connect(mapStateToProps, {\n  getOtherUsersPosts,\n  getProfileByHandle,\n  getFollowingList\n})(withRouter(HandleProfile));","map":{"version":3,"sources":["D:/MERN-PROJECT-INSTA/MERN_InstaApp/client/src/components/profile/HandleProfile.js"],"names":["React","Component","Fragment","Profile","getOtherUsersPosts","connect","PropTypes","Spinner","getProfileByHandle","getFollowingList","withRouter","HandleProfile","componentDidMount","props","match","params","handle","history","componentWillReceiveProps","nextProps","window","location","reload","render","profile","loading","followingList","content","userPosts","loadingPost","post","propTypes","object","isRequired","func","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { getOtherUsersPosts } from \"../../actions/postActions\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport Spinner from \"../common/Spinner\";\r\nimport { getProfileByHandle, getFollowingList } from '../../actions/profileActions';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass HandleProfile extends Component {\r\n  componentDidMount() {\r\n  // if (this.props.match.params.user_id) {\r\n  //   this.props.getOtherUsersPosts(this.props.match.params.user_id);\r\n  // }\r\n   if (this.props.match.params.handle) {\r\n    this.props.getProfileByHandle(this.props.match.params.handle, this.props.history);\r\n    this.props.getOtherUsersPosts(this.props.match.params.handle);\r\n    }\r\n    this.props.getFollowingList();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.match && nextProps.match.params && this.props.match && this.props.match.params) {\r\n      if (nextProps.match.params.handle !== this.props.match.params.handle) {\r\n        // console.log(nextProps.match.params.handle);\r\n        // console.log(this.props.match.params.handle)\r\n        window.location.reload(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.props.profile.profile);\r\n    const { profile, loading, followingList } = this.props.profile;\r\n    let content;\r\n    const { userPosts, loadingPost } = this.props.post;\r\n    // console.log(userPosts);\r\n    // console.log(profile);\r\n \r\n\r\n    if (loading || loadingPost || profile === null || userPosts === null || followingList === null) {\r\n      content = ( <Spinner /> )\r\n    } else {\r\n      content = (\r\n        <div>\r\n          <Profile\r\n            profile={profile}\r\n            loading={loading}\r\n            userPosts={userPosts}\r\n            loadingPost={loadingPost}\r\n            isCurrentProfile={true}\r\n            followingList={followingList}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n    return <div> {content}</div>;\r\n  }\r\n}\r\n\r\nProfile.propTypes = {\r\n  profile: PropTypes.object.isRequired,\r\n  getProfileByHandle: PropTypes.func.isRequired,\r\n  post: PropTypes.object.isRequired,\r\n  getOtherUsersPosts: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  // auth: state.auth,\r\n  profile: state.profile,\r\n  post: state.post,\r\n});\r\nexport default connect(mapStateToProps, {\r\n  getOtherUsersPosts,\r\n  getProfileByHandle,\r\n  getFollowingList\r\n})(withRouter(HandleProfile));\r\n"]},"metadata":{},"sourceType":"module"}